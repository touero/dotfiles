########################################################
# mpv 主配置文件
# 风格：Gruvbox Dark
# 取向：干净、稳定、偏向 Vim / CLI 用户
########################################################


########################
# 基础行为
########################

save-position-on-quit=yes
# 退出时保存播放进度（配合 Q quit-watch-later）

keep-open=yes
# 播放结束后不立即关闭窗口

idle=yes
# 无文件时保持 mpv 运行（方便拖文件）


########################
# 视频渲染
########################

vo=gpu
# 使用 GPU 渲染（现代显卡必选）

gpu-context=wayland
# 自动选择 Wayland / X11

hwdec=auto-safe
# 硬件解码（安全模式，失败自动回退）

profile=gpu-hq
# 高质量 GPU 渲染配置（默认已很平衡）


########################
# 色彩 / Gruvbox 风格取向
########################

tone-mapping=hable
# HDR → SDR 映射（自然，不刺眼）

icc-profile-auto=yes
# 自动使用系统 ICC 色彩配置


target-peak=100
# SDR 亮度上限，偏护眼


########################
# 缩放与画面
########################

scale=ewa_lanczossharp
# 高质量缩放算法

cscale=ewa_lanczossharp
# 色度缩放算法

video-zoom=0
# 默认不缩放

video-pan-x=0
video-pan-y=0


sub-auto=fuzzy
sub-font="Noto Sans CJK SC"
sub-font-size=24
sub-color="#ebdbb2"
sub-border-color="#1d2021"
sub-border-size=3
sub-shadow-offset=1
sub-shadow-color="#000000"
sub-ass-style-overrides=Kerning=yes,FontSize=36

ao=pulse,pipewire,alsa
volume=50
volume-max=100
audio-pitch-correction=yes


merge-files=yes
autoload-files=yes
prefetch-playlist=yes


osd-level=1
osd-duration=1500
osd-font="JetBrainsMono Nerd Font"
osd-font-size=24
osd-color="#ebdbb2"
osd-border-color="#1d2021"
osd-border-size=2

screenshot-format=png
screenshot-directory=~/Pictures/mpv
screenshot-template="%f_%p"

msg-level=all=yes
log-file=~/.cache/mpv/mpv.log
