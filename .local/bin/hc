#!/usr/bin/env sh
# @author touero
# @since 2025, 2026
# hc: select item from clipboard history.

if [ "$1" = "-t" ]; then
  cliphist list | fzf --no-sort | cliphist decode | wl-copy
else
  sel="$(
    cliphist list |
      iconv -f UTF-8 -t UTF-8 -c |
      "$HOME/.local/bin/menu" show -l 30 -p "clipboard history"
  )"
  [ -n "$sel" ] && printf '%s\n' "$sel" | cliphist decode | wl-copy
fi

focus_point
