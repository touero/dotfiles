#!/usr/bin/env bash
# @author touero
# @since 2025
# datelog: choice date style in menu

source $HOME/.local/bin/get_clipboard
CLIPBOARD=$(get_clipboard)

options=""
for i in $(seq 0 179); do
  d=$(date -d "-$i day" '+%Y_%m_%d*')
  options="$options$d\n"
done

choice=$(echo -e "$options" | $HOME/.local/bin/menu show -l 30 -p "copy to clipboard")

if [ -n "$choice" ]; then
  echo -n "$choice" | $CLIPBOARD
  focus_point
fi
